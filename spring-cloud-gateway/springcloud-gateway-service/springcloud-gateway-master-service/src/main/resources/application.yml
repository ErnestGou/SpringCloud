# \u7AEF\u53E3
server:
  port: 8000

spring:
  profiles:
    # \u6307\u5B9A\u914D\u7F6E
    # route_simple\uFF1A\u7B80\u5355\u5C1D\u8BD5
    # route_stripPrefix\uFF1A\u622A\u53D6\u8BF7\u6C42
    # route_uri\uFF1A\u8F6C\u53D1\u6307\u5B9A\u5730\u5740\u5E76\u4F20\u5165\u53C2\u6570
    # route_addRequestParameter\uFF1A\u8F6C\u53D1\u6307\u5B9A\u670D\u52A1\u5E76\u4F20\u5165\u53C2\u6570
    # route_hystrix\uFF1A\u7194\u65AD
    # route_requestRateLimiter\uFF1A\u9650\u6D41
    # route_all\uFF1A\u7EFC\u5408
    active: route_simple

---

spring:
  # \u914D\u7F6E\u6587\u4EF6\u540D\u79F0\uFF0C\u7528\u6765\u6807\u8BC6\u4E0D\u540C\u73AF\u5883\u7684\u914D\u7F6E\u3002\u7531 spring.profiles.active \u7684\u503C\u6765\u51B3\u5B9A\u4F7F\u7528\u54EA\u7EC4\u914D\u7F6E\u3002
  ## \u7B80\u5355\u5C1D\u8BD5
  profiles: route_simple
  application:
    # \u5E94\u7528\u540D\u79F0
    name: gateway-master
  cloud:
    gateway:
      discovery:
        locator:
          # \u662F\u5426\u548C\u670D\u52A1\u6CE8\u518C\u4E0E\u53D1\u73B0\u7EC4\u4EF6\u7ED3\u5408\uFF0C\u8BBE\u7F6E\u4E3A true \u540E\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\u5E94\u7528\u540D\u79F0\u8C03\u7528\u670D\u52A1
          enabled: true
      # \u8DEF\u7531\uFF08routes\uFF1A\u8DEF\u7531\uFF0C\u5B83\u7531\u552F\u4E00\u6807\u8BC6\uFF08ID\uFF09\u3001\u76EE\u6807\u670D\u52A1\u5730\u5740\uFF08uri\uFF09\u3001\u4E00\u7EC4\u65AD\u8A00\uFF08predicates\uFF09\u548C\u4E00\u7EC4\u8FC7\u6EE4\u5668\u7EC4\u6210\uFF08filters\uFF09\u3002filters \u4E0D\u662F\u5FC5\u9700\u53C2\u6570\u3002\uFF09
      routes:
        # \u8DEF\u7531\u6807\u8BC6\uFF08id\uFF1A\u6807\u8BC6\uFF0C\u5177\u6709\u552F\u4E00\u6027\uFF09   \u7B80\u5355\u5C1D\u8BD5
        - id: route_simple
          # \u76EE\u6807\u670D\u52A1\u5730\u5740\uFF08uri\uFF1A\u5730\u5740\uFF0C\u8BF7\u6C42\u8F6C\u53D1\u540E\u7684\u5730\u5740\uFF09
          uri: https://www.zouwencong.com
          # \u8DEF\u7531\u6761\u4EF6\uFF08predicates\uFF1A\u65AD\u8A00\uFF0C\u5339\u914D HTTP \u8BF7\u6C42\u5185\u5BB9\uFF09
          predicates:
            ## \u8F6C\u53D1\u5730\u5740\u683C\u5F0F\u4E3A uri/archive
            - Path=/archive

eureka:
  instance:
    # \u4F7F\u7528 ip \u4EE3\u66FF\u5B9E\u4F8B\u540D
    prefer-ip-address: true
    # \u5B9E\u4F8B\u7684\u4E3B\u673A\u540D
    hostname: ${spring.cloud.client.ip-address}
    # \u5B9E\u4F8B\u7684 ID \u89C4\u5219
    instance-id: ${spring.cloud.client.ip-address}:${spring.application.name}:${server.port}
  client:
    serviceUrl:
      # \u6CE8\u518C\u4E2D\u5FC3\u5730\u5740
      defaultZone: http://${eureka.instance.hostname}:8761/eureka/

logging:
  level:
    # log \u7EA7\u522B
    org.springframework.cloud.gateway: debug

---

spring:
  # \u914D\u7F6E\u6587\u4EF6\u540D\u79F0\uFF0C\u7528\u6765\u6807\u8BC6\u4E0D\u540C\u73AF\u5883\u7684\u914D\u7F6E\u3002\u7531 spring.profiles.active \u7684\u503C\u6765\u51B3\u5B9A\u4F7F\u7528\u54EA\u7EC4\u914D\u7F6E\u3002
  ## \u622A\u53D6\u8BF7\u6C42
  profiles: route_stripPrefix
  application:
    # \u5E94\u7528\u540D\u79F0
    name: gateway-master
  cloud:
    gateway:
      discovery:
        locator:
          # \u662F\u5426\u548C\u670D\u52A1\u6CE8\u518C\u4E0E\u53D1\u73B0\u7EC4\u4EF6\u7ED3\u5408\uFF0C\u8BBE\u7F6E\u4E3A true \u540E\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\u5E94\u7528\u540D\u79F0\u8C03\u7528\u670D\u52A1
          enabled: true
      # \u8DEF\u7531\uFF08routes\uFF1A\u8DEF\u7531\uFF0C\u5B83\u7531\u552F\u4E00\u6807\u8BC6\uFF08ID\uFF09\u3001\u76EE\u6807\u670D\u52A1\u5730\u5740\uFF08uri\uFF09\u3001\u4E00\u7EC4\u65AD\u8A00\uFF08predicates\uFF09\u548C\u4E00\u7EC4\u8FC7\u6EE4\u5668\u7EC4\u6210\uFF08filters\uFF09\u3002filters \u4E0D\u662F\u5FC5\u9700\u53C2\u6570\u3002\uFF09
      routes:
        # \u8DEF\u7531\u6807\u8BC6\uFF08id\uFF1A\u6807\u8BC6\uFF0C\u5177\u6709\u552F\u4E00\u6027\uFF09   \u622A\u53D6\u8BF7\u6C42
        - id: route_simple
          # \u76EE\u6807\u670D\u52A1\u5730\u5740\uFF08uri\uFF1A\u5730\u5740\uFF0C\u8BF7\u6C42\u8F6C\u53D1\u540E\u7684\u5730\u5740\uFF09
          uri: https://www.zouwencong.com
          # \u8DEF\u7531\u6761\u4EF6\uFF08predicates\uFF1A\u65AD\u8A00\uFF0C\u5339\u914D HTTP \u8BF7\u6C42\u5185\u5BB9\uFF09
          predicates:
            ## \u8F6C\u53D1\u5730\u5740\u683C\u5F0F\u4E3A uri/archive\uFF0C/str \u90E8\u5206\u4F1A\u88AB\u4E0B\u9762\u7684\u8FC7\u6EE4\u5668\u7ED9\u622A\u53D6\u6389
            - Path=/str/archive
          filters:
            ## \u622A\u53D6\u8DEF\u5F84\u4F4D\u6570
            - StripPrefix=1

eureka:
  instance:
    # \u4F7F\u7528 ip \u4EE3\u66FF\u5B9E\u4F8B\u540D
    prefer-ip-address: true
    # \u5B9E\u4F8B\u7684\u4E3B\u673A\u540D
    hostname: ${spring.cloud.client.ip-address}
    # \u5B9E\u4F8B\u7684 ID \u89C4\u5219
    instance-id: ${spring.cloud.client.ip-address}:${spring.application.name}:${server.port}
  client:
    serviceUrl:
      # \u6CE8\u518C\u4E2D\u5FC3\u5730\u5740
      defaultZone: http://${eureka.instance.hostname}:8761/eureka/

logging:
  level:
    # log \u7EA7\u522B
    org.springframework.cloud.gateway: debug

---

spring:
  # \u914D\u7F6E\u6587\u4EF6\u540D\u79F0\uFF0C\u7528\u6765\u6807\u8BC6\u4E0D\u540C\u73AF\u5883\u7684\u914D\u7F6E\u3002\u7531 spring.profiles.active \u7684\u503C\u6765\u51B3\u5B9A\u4F7F\u7528\u54EA\u7EC4\u914D\u7F6E\u3002
  ## \u8F6C\u53D1\u6307\u5B9A\u5730\u5740\u5E76\u4F20\u5165\u53C2\u6570
  profiles: route_uri
  application:
    # \u5E94\u7528\u540D\u79F0
    name: gateway-master
  cloud:
    gateway:
      discovery:
        locator:
          # \u662F\u5426\u548C\u670D\u52A1\u6CE8\u518C\u4E0E\u53D1\u73B0\u7EC4\u4EF6\u7ED3\u5408\uFF0C\u8BBE\u7F6E\u4E3A true \u540E\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\u5E94\u7528\u540D\u79F0\u8C03\u7528\u670D\u52A1
          enabled: true
      # \u8DEF\u7531\uFF08routes\uFF1A\u8DEF\u7531\uFF0C\u5B83\u7531\u552F\u4E00\u6807\u8BC6\uFF08ID\uFF09\u3001\u76EE\u6807\u670D\u52A1\u5730\u5740\uFF08uri\uFF09\u3001\u4E00\u7EC4\u65AD\u8A00\uFF08predicates\uFF09\u548C\u4E00\u7EC4\u8FC7\u6EE4\u5668\u7EC4\u6210\uFF08filters\uFF09\u3002filters \u4E0D\u662F\u5FC5\u9700\u53C2\u6570\u3002\uFF09
      routes:
        # \u8DEF\u7531\u6807\u8BC6\uFF08id\uFF1A\u6807\u8BC6\uFF0C\u5177\u6709\u552F\u4E00\u6027\uFF09   \u8F6C\u53D1\u6307\u5B9A\u5730\u5740\u5E76\u4F20\u5165\u53C2\u6570
        - id: route_uri
          # \u76EE\u6807\u670D\u52A1\u5730\u5740\uFF08uri\uFF1A\u5730\u5740\uFF0C\u8BF7\u6C42\u8F6C\u53D1\u540E\u7684\u5730\u5740\uFF09
          uri: http://localhost:9000
          # \u8DEF\u7531\u6761\u4EF6\uFF08predicates\uFF1A\u65AD\u8A00\uFF0C\u5339\u914D HTTP \u8BF7\u6C42\u5185\u5BB9\uFF09
          predicates:
            ## \u5339\u914D GET \u8BF7\u6C42
            - Method=GET
          # \u8FC7\u6EE4\u5668\uFF08filters\uFF1A\u8FC7\u6EE4\u5668\uFF0C\u8FC7\u6EE4\u89C4\u5219\uFF09
          filters:
            ## \u6DFB\u52A0\u6307\u5B9A\u53C2\u6570
            - AddRequestParameter=name, ernest

eureka:
  instance:
    # \u4F7F\u7528 ip \u4EE3\u66FF\u5B9E\u4F8B\u540D
    prefer-ip-address: true
    # \u5B9E\u4F8B\u7684\u4E3B\u673A\u540D
    hostname: ${spring.cloud.client.ip-address}
    # \u5B9E\u4F8B\u7684 ID \u89C4\u5219
    instance-id: ${spring.cloud.client.ip-address}:${spring.application.name}:${server.port}
  client:
    serviceUrl:
      # \u6CE8\u518C\u4E2D\u5FC3\u5730\u5740
      defaultZone: http://${eureka.instance.hostname}:8761/eureka/

logging:
  level:
    # log \u7EA7\u522B
    org.springframework.cloud.gateway: debug

---

spring:
  # \u914D\u7F6E\u6587\u4EF6\u540D\u79F0\uFF0C\u7528\u6765\u6807\u8BC6\u4E0D\u540C\u73AF\u5883\u7684\u914D\u7F6E\u3002\u7531 spring.profiles.active \u7684\u503C\u6765\u51B3\u5B9A\u4F7F\u7528\u54EA\u7EC4\u914D\u7F6E\u3002
  ## \u8F6C\u53D1\u6307\u5B9A\u670D\u52A1\u5E76\u4F20\u5165\u53C2\u6570
  profiles: route_addRequestParameter
  application:
    # \u5E94\u7528\u540D\u79F0
    name: gateway-master
  cloud:
    gateway:
      discovery:
        locator:
          # \u662F\u5426\u548C\u670D\u52A1\u6CE8\u518C\u4E0E\u53D1\u73B0\u7EC4\u4EF6\u7ED3\u5408\uFF0C\u8BBE\u7F6E\u4E3A true \u540E\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\u5E94\u7528\u540D\u79F0\u8C03\u7528\u670D\u52A1
          enabled: true
      # \u8DEF\u7531\uFF08routes\uFF1A\u8DEF\u7531\uFF0C\u5B83\u7531\u552F\u4E00\u6807\u8BC6\uFF08ID\uFF09\u3001\u76EE\u6807\u670D\u52A1\u5730\u5740\uFF08uri\uFF09\u3001\u4E00\u7EC4\u65AD\u8A00\uFF08predicates\uFF09\u548C\u4E00\u7EC4\u8FC7\u6EE4\u5668\u7EC4\u6210\uFF08filters\uFF09\u3002filters \u4E0D\u662F\u5FC5\u9700\u53C2\u6570\u3002\uFF09
      routes:
        # \u8DEF\u7531\u6807\u8BC6\uFF08id\uFF1A\u6807\u8BC6\uFF0C\u5177\u6709\u552F\u4E00\u6027\uFF09   \u8F6C\u53D1\u6307\u5B9A\u670D\u52A1\u5E76\u4F20\u5165\u53C2\u6570
        - id: route_addRequestParameter
          # \u76EE\u6807\u670D\u52A1\u5730\u5740\uFF08uri\uFF1A\u5730\u5740\uFF0C\u8BF7\u6C42\u8F6C\u53D1\u540E\u7684\u5730\u5740\uFF09
          uri: lb://gateway-service
          # \u8DEF\u7531\u6761\u4EF6\uFF08predicates\uFF1A\u65AD\u8A00\uFF0C\u5339\u914D HTTP \u8BF7\u6C42\u5185\u5BB9\uFF09
          predicates:
            ## \u5339\u914D GET \u8BF7\u6C42
            - Method=GET
          # \u8FC7\u6EE4\u5668\uFF08filters\uFF1A\u8FC7\u6EE4\u5668\uFF0C\u8FC7\u6EE4\u89C4\u5219\uFF09
          filters:
            ## \u6DFB\u52A0\u6307\u5B9A\u53C2\u6570
            - AddRequestParameter=age, three

eureka:
  instance:
    # \u4F7F\u7528 ip \u4EE3\u66FF\u5B9E\u4F8B\u540D
    prefer-ip-address: true
    # \u5B9E\u4F8B\u7684\u4E3B\u673A\u540D
    hostname: ${spring.cloud.client.ip-address}
    # \u5B9E\u4F8B\u7684 ID \u89C4\u5219
    instance-id: ${spring.cloud.client.ip-address}:${spring.application.name}:${server.port}
  client:
    serviceUrl:
      # \u6CE8\u518C\u4E2D\u5FC3\u5730\u5740
      defaultZone: http://${eureka.instance.hostname}:8761/eureka/

logging:
  level:
    # log \u7EA7\u522B
    org.springframework.cloud.gateway: debug

---

spring:
  # \u914D\u7F6E\u6587\u4EF6\u540D\u79F0\uFF0C\u7528\u6765\u6807\u8BC6\u4E0D\u540C\u73AF\u5883\u7684\u914D\u7F6E\u3002\u7531 spring.profiles.active \u7684\u503C\u6765\u51B3\u5B9A\u4F7F\u7528\u54EA\u7EC4\u914D\u7F6E\u3002
  ## \u7194\u65AD
  profiles: route_hystrix
  application:
    # \u5E94\u7528\u540D\u79F0
    name: gateway-master
  cloud:
    gateway:
      discovery:
        locator:
          # \u662F\u5426\u548C\u670D\u52A1\u6CE8\u518C\u4E0E\u53D1\u73B0\u7EC4\u4EF6\u7ED3\u5408\uFF0C\u8BBE\u7F6E\u4E3A true \u540E\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\u5E94\u7528\u540D\u79F0\u8C03\u7528\u670D\u52A1
          enabled: true
      # \u8DEF\u7531\uFF08routes\uFF1A\u8DEF\u7531\uFF0C\u5B83\u7531\u552F\u4E00\u6807\u8BC6\uFF08ID\uFF09\u3001\u76EE\u6807\u670D\u52A1\u5730\u5740\uFF08uri\uFF09\u3001\u4E00\u7EC4\u65AD\u8A00\uFF08predicates\uFF09\u548C\u4E00\u7EC4\u8FC7\u6EE4\u5668\u7EC4\u6210\uFF08filters\uFF09\u3002filters \u4E0D\u662F\u5FC5\u9700\u53C2\u6570\u3002\uFF09
      routes:
        # \u8DEF\u7531\u6807\u8BC6\uFF08id\uFF1A\u6807\u8BC6\uFF0C\u5177\u6709\u552F\u4E00\u6027\uFF09   \u7194\u65AD
        - id: route_hystrix
          # \u76EE\u6807\u670D\u52A1\u5730\u5740\uFF08uri\uFF1A\u5730\u5740\uFF0C\u8BF7\u6C42\u8F6C\u53D1\u540E\u7684\u5730\u5740\uFF09
          uri: lb://gateway-service
          # \u8DEF\u7531\u6761\u4EF6\uFF08predicates\uFF1A\u65AD\u8A00\uFF0C\u5339\u914D HTTP \u8BF7\u6C42\u5185\u5BB9\uFF09
          predicates:
            ## \u5339\u914D GET \u8BF7\u6C42
            - Method=GET
          # \u8FC7\u6EE4\u5668\uFF08filters\uFF1A\u8FC7\u6EE4\u5668\uFF0C\u8FC7\u6EE4\u89C4\u5219\uFF09
          filters:
            ## \u6DFB\u52A0\u6307\u5B9A\u53C2\u6570
            - AddRequestParameter=age, three
            ## \u7194\u65AD
            - name: Hystrix
              args:
                name: fallbackcmd
                ### fallback \u65F6\u8C03\u7528\u7684\u65B9\u6CD5 http://localhost:8000/fallback
                fallbackUri: forward:/fallback

eureka:
  instance:
    # \u4F7F\u7528 ip \u4EE3\u66FF\u5B9E\u4F8B\u540D
    prefer-ip-address: true
    # \u5B9E\u4F8B\u7684\u4E3B\u673A\u540D
    hostname: ${spring.cloud.client.ip-address}
    # \u5B9E\u4F8B\u7684 ID \u89C4\u5219
    instance-id: ${spring.cloud.client.ip-address}:${spring.application.name}:${server.port}
  client:
    serviceUrl:
      # \u6CE8\u518C\u4E2D\u5FC3\u5730\u5740
      defaultZone: http://${eureka.instance.hostname}:8761/eureka/

logging:
  level:
    # log \u7EA7\u522B
    org.springframework.cloud.gateway: debug

---

spring:
  # \u914D\u7F6E\u6587\u4EF6\u540D\u79F0\uFF0C\u7528\u6765\u6807\u8BC6\u4E0D\u540C\u73AF\u5883\u7684\u914D\u7F6E\u3002\u7531 spring.profiles.active \u7684\u503C\u6765\u51B3\u5B9A\u4F7F\u7528\u54EA\u7EC4\u914D\u7F6E\u3002
  ## \u9650\u6D41
  profiles: route_requestRateLimiter
  redis:
    host: localhost
    port: 6379
    database: 0
  application:
    # \u5E94\u7528\u540D\u79F0
    name: gateway-master
  cloud:
    gateway:
      discovery:
        locator:
          # \u662F\u5426\u548C\u670D\u52A1\u6CE8\u518C\u4E0E\u53D1\u73B0\u7EC4\u4EF6\u7ED3\u5408\uFF0C\u8BBE\u7F6E\u4E3A true \u540E\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\u5E94\u7528\u540D\u79F0\u8C03\u7528\u670D\u52A1
          enabled: true
      # \u8DEF\u7531\uFF08routes\uFF1A\u8DEF\u7531\uFF0C\u5B83\u7531\u552F\u4E00\u6807\u8BC6\uFF08ID\uFF09\u3001\u76EE\u6807\u670D\u52A1\u5730\u5740\uFF08uri\uFF09\u3001\u4E00\u7EC4\u65AD\u8A00\uFF08predicates\uFF09\u548C\u4E00\u7EC4\u8FC7\u6EE4\u5668\u7EC4\u6210\uFF08filters\uFF09\u3002filters \u4E0D\u662F\u5FC5\u9700\u53C2\u6570\u3002\uFF09
      routes:
        # \u8DEF\u7531\u6807\u8BC6\uFF08id\uFF1A\u6807\u8BC6\uFF0C\u5177\u6709\u552F\u4E00\u6027\uFF09   \u9650\u6D41
        - id: route_requestRateLimiter
          # \u76EE\u6807\u670D\u52A1\u5730\u5740\uFF08uri\uFF1A\u5730\u5740\uFF0C\u8BF7\u6C42\u8F6C\u53D1\u540E\u7684\u5730\u5740\uFF09
          uri: lb://gateway-service
          # \u8DEF\u7531\u6761\u4EF6\uFF08predicates\uFF1A\u65AD\u8A00\uFF0C\u5339\u914D HTTP \u8BF7\u6C42\u5185\u5BB9\uFF09
          predicates:
            ## \u5339\u914D GET \u8BF7\u6C42
            - Method=GET
          # \u8FC7\u6EE4\u5668\uFF08filters\uFF1A\u8FC7\u6EE4\u5668\uFF0C\u8FC7\u6EE4\u89C4\u5219\uFF09
          filters:
            ## \u6DFB\u52A0\u6307\u5B9A\u53C2\u6570
            - AddRequestParameter=age, three
            ## \u9650\u6D41
            - name: RequestRateLimiter
              args:
                ### \u9650\u6D41\u8FC7\u6EE4\u5668\u7684 Bean \u540D\u79F0
                key-resolver: '#{@uriKeyResolver}'
                ### \u5E0C\u671B\u5141\u8BB8\u7528\u6237\u6BCF\u79D2\u5904\u7406\u591A\u5C11\u4E2A\u8BF7\u6C42
                redis-rate-limiter.replenishRate: 1
                ### \u7528\u6237\u5141\u8BB8\u5728\u4E00\u79D2\u949F\u5185\u5B8C\u6210\u7684\u6700\u5927\u8BF7\u6C42\u6570
                redis-rate-limiter.burstCapacity: 3

eureka:
  instance:
    # \u4F7F\u7528 ip \u4EE3\u66FF\u5B9E\u4F8B\u540D
    prefer-ip-address: true
    # \u5B9E\u4F8B\u7684\u4E3B\u673A\u540D
    hostname: ${spring.cloud.client.ip-address}
    # \u5B9E\u4F8B\u7684 ID \u89C4\u5219
    instance-id: ${spring.cloud.client.ip-address}:${spring.application.name}:${server.port}
  client:
    serviceUrl:
      # \u6CE8\u518C\u4E2D\u5FC3\u5730\u5740
      defaultZone: http://${eureka.instance.hostname}:8761/eureka/

logging:
  level:
    # log \u7EA7\u522B
    org.springframework.cloud.gateway: debug

---

spring:
  # \u914D\u7F6E\u6587\u4EF6\u540D\u79F0\uFF0C\u7528\u6765\u6807\u8BC6\u4E0D\u540C\u73AF\u5883\u7684\u914D\u7F6E\u3002\u7531 spring.profiles.active \u7684\u503C\u6765\u51B3\u5B9A\u4F7F\u7528\u54EA\u7EC4\u914D\u7F6E\u3002
  ## \u7EFC\u5408
  profiles: route_all
  redis:
    host: localhost
    port: 6379
    database: 0
  application:
    # \u5E94\u7528\u540D\u79F0
    name: gateway-master
  cloud:
    gateway:
      discovery:
        locator:
          # \u662F\u5426\u548C\u670D\u52A1\u6CE8\u518C\u4E0E\u53D1\u73B0\u7EC4\u4EF6\u7ED3\u5408\uFF0C\u8BBE\u7F6E\u4E3A true \u540E\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\u5E94\u7528\u540D\u79F0\u8C03\u7528\u670D\u52A1
          enabled: true
      # \u8DEF\u7531\uFF08routes\uFF1A\u8DEF\u7531\uFF0C\u5B83\u7531\u552F\u4E00\u6807\u8BC6\uFF08ID\uFF09\u3001\u76EE\u6807\u670D\u52A1\u5730\u5740\uFF08uri\uFF09\u3001\u4E00\u7EC4\u65AD\u8A00\uFF08predicates\uFF09\u548C\u4E00\u7EC4\u8FC7\u6EE4\u5668\u7EC4\u6210\uFF08filters\uFF09\u3002filters \u4E0D\u662F\u5FC5\u9700\u53C2\u6570\u3002\uFF09
      routes:
        # \u8DEF\u7531\u6807\u8BC6\uFF08id\uFF1A\u6807\u8BC6\uFF0C\u5177\u6709\u552F\u4E00\u6027\uFF09   \u7EFC\u5408
        - id: route_all
          # \u76EE\u6807\u670D\u52A1\u5730\u5740\uFF08uri\uFF1A\u5730\u5740\uFF0C\u8BF7\u6C42\u8F6C\u53D1\u540E\u7684\u5730\u5740\uFF09
          uri: lb://gateway-service
          # \u8DEF\u7531\u6761\u4EF6\uFF08predicates\uFF1A\u65AD\u8A00\uFF0C\u5339\u914D HTTP \u8BF7\u6C42\u5185\u5BB9\uFF09
          predicates:
            ## \u8F6C\u53D1\u5730\u5740\u683C\u5F0F\u4E3A uri/routeAll\uFF0C/all \u90E8\u5206\u4F1A\u88AB\u4E0B\u9762\u7684\u8FC7\u6EE4\u5668\u7ED9\u622A\u53D6\u6389
            - Path=/all/routeAll
            ## \u5339\u914D GET \u8BF7\u6C42
            - Method=GET
          # \u8FC7\u6EE4\u5668\uFF08filters\uFF1A\u8FC7\u6EE4\u5668\uFF0C\u8FC7\u6EE4\u89C4\u5219\uFF09
          filters:
            ## \u622A\u53D6\u8DEF\u5F84\u4F4D\u6570
            - StripPrefix=1
            ## \u6DFB\u52A0\u6307\u5B9A\u53C2\u6570
            - AddRequestParameter=pass, yes
            ## \u7194\u65AD
            - name: Hystrix
              args:
                name: fallbackcmd
                ### fallback \u65F6\u8C03\u7528\u7684\u65B9\u6CD5 http://localhost:8000/fallback
                fallbackUri: forward:/fallback
            ## \u9650\u6D41
            - name: RequestRateLimiter
              args:
                ### \u9650\u6D41\u8FC7\u6EE4\u5668\u7684 Bean \u540D\u79F0
                key-resolver: '#{@uriKeyResolver}'
                ### \u5E0C\u671B\u5141\u8BB8\u7528\u6237\u6BCF\u79D2\u5904\u7406\u591A\u5C11\u4E2A\u8BF7\u6C42
                redis-rate-limiter.replenishRate: 1
                ### \u7528\u6237\u5141\u8BB8\u5728\u4E00\u79D2\u949F\u5185\u5B8C\u6210\u7684\u6700\u5927\u8BF7\u6C42\u6570
                redis-rate-limiter.burstCapacity: 3

eureka:
  instance:
    # \u4F7F\u7528 ip \u4EE3\u66FF\u5B9E\u4F8B\u540D
    prefer-ip-address: true
    # \u5B9E\u4F8B\u7684\u4E3B\u673A\u540D
    hostname: ${spring.cloud.client.ip-address}
    # \u5B9E\u4F8B\u7684 ID \u89C4\u5219
    instance-id: ${spring.cloud.client.ip-address}:${spring.application.name}:${server.port}
  client:
    serviceUrl:
      # \u6CE8\u518C\u4E2D\u5FC3\u5730\u5740
      defaultZone: http://${eureka.instance.hostname}:8761/eureka/

logging:
  level:
    # log \u7EA7\u522B
    org.springframework.cloud.gateway: debug